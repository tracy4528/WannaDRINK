<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
	<title>WannaDRINK</title>
	<link rel="stylesheet" href="static/css/all.min.css"> 
	<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet"> 
	<link href="static/css/magnific-popup.min.css" rel="stylesheet">
    <link href="static/css/tooplate-style.css" rel="stylesheet">

</head>

<body>
	<div class="tm-gallery-section tm-mb-80">
		<!-- <ul class="filters-button-group tm-mb-40">
			<li><a href="#" data-filter=".city">today Hot</a></li>
			<li><a href="#" data-filter=".nature">Nature</a></li>
			<li><a href="#" data-filter=".portraits">Portraits</a></li>
			<li><a href="#" class="active" data-filter="*">Show All</a></li>
		</ul> -->
		<!-- <div class="tm-gallery">				
			<div class="tm-gallery-item city portraits">
				<a href="img/img-01.jpg">
					<img src="img/tn-img-01.jpg" alt="City Scape" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item portraits">
				<a href="img/img-02.jpg">
					<img src="img/tn-img-02.jpg" alt="Beautiful Lady" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item city">
				<a href="img/img-03.jpg">
					<img src="img/tn-img-03.jpg" alt="City over cloud" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item nature">
				<a href="img/img-04.jpg">
					<img src="img/tn-img-04.jpg" alt="Autumn Forest" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item city">
				<a href="img/img-05.jpg">
					<img src="img/tn-img-05.jpg" alt="Skyscrapers Reflected" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item city">
				<a href="img/img-06.jpg">
					<img src="img/tn-img-06.jpg" alt="City Night" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item nature portraits">
				<a href="img/img-07.jpg">
					<img src="img/tn-img-07.jpg" alt="Gallery item" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item nature">
				<a href="img/img-08.jpg">
					<img src="img/tn-img-08.jpg" alt="Gallery item" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item nature">
				<a href="img/img-09.jpg">
					<img src="img/tn-img-09.jpg" alt="Gallery item" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item nature portraits">
				<a href="img/img-10.jpg">
					<img src="img/tn-img-10.jpg" alt="Gallery item" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item nature">
				<a href="img/img-11.jpg">
					<img src="img/tn-img-11.jpg" alt="Gallery item" class="img-fluid" />
				</a>
			</div>
			<div class="tm-gallery-item portraits">
				<a href="img/img-12.jpg">
					<img src="img/tn-img-12.jpg" alt="Gallery item" class="img-fluid" />
				</a>
			</div>
		</div>			 -->
	</div>

	<div class="tm-container-fluid">
		<section class="tm-site-header tm-flex-center tm-mb-50 tm-bgcolor-1 tm-border-rounded">
			<i class="fas fa-heart fa-3x"></i>
			<h1>WannaDRINK</h1>
		</section>

		<section class="tm-about tm-mb-80 tm-p-50 tm-bgcolor-2 tm-border-rounded">
			<div class="tm-about-header tm-flex-center">
				<i class="fas fa-users fa-2x"></i>
				<h2>About Us</h2>
			</div>
			<div class="tm-about-text">
				<p class="tm-mb-40">WannaDrink is your go-to destination for all things drinks! We're your friendly neighborhood hub for handcrafted drink recommendations and the latest buzz in the beverage world. Sip, savor, and stay in the know with WannaDrink! Cheers! 🥤🍹📢</p>
			</div>
		</section>

		<section class="tm-about tm-mb-80 tm-p-50 tm-bgcolor-2 tm-border-rounded">
			<div class="tm-about-header tm-flex-center">
				<i class="fas fa-users fa-2x"></i>
				<h2>Hot! </h2>
			</div>
			<div class="tm-about-text">
				<p class="tm-mb-41">＃可不可🥤, ＃麻古🥤</p>
			</div>
		</section>

		<section class="tm-about tm-mb-80 tm-p-50 tm-bgcolor-2 tm-border-rounded">
			<div class="tm-about-header tm-flex-center">
				<h2>🥤輸入你喜歡的飲料種類🥤</h2>
				<form id="contact-form" action="/submit" method="POST" class="tm-contact-form">
					<label  for="drink1">飲料:</label>
					<input type="text" id="drink1" name="drink1" required><br><br>		          	
		          	<button onclick="searchDrink()" class="tm-right tm-btn-submit">send</button>          	
		        </form>  
			</div>

			<!-- <div class="tm-contact-form-container" id="drinkResult">
				
			</div> -->
		</section>



		<footer class="tm-footer">
			 2023 WannaDRINK - Design: Tracy Huang
		</footer>
	</div>

	<script >
		function searchDrink() {
            var drinkName = document.getElementById("drinkInput").value;
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "http://127.0.0.1:8000/submit", true);
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var response = JSON.parse(xhr.responseText);
					var jsonData = response.data; 
                    var drinkResult = document.getElementById("drinkResult");
                    if (jsonData.imageUrl) {
                        drinkResult.innerHTML = "<img src='" + jsonData.imageUrl + "'>";
                    } else {
                        drinkResult.innerHTML = "未找到该飲料！";
                    }
                }
            };
            xhr.send("drinkName=" + encodeURIComponent(drinkName));
        }


		document.addEventListener('DOMContentLoaded', function () {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', 'http://127.0.0.1:8000/api/v1/hotword', true);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
        if (xhr.status === 200) {
            const response = JSON.parse(xhr.responseText);
            const jsonData = response.data; 
            const jsonDataElement = document.querySelector('.tm-mb-41');
            // const jsonDataText = JSON.stringify(jsonData, null, 2);
            // jsonDataElement.innerHTML = jsonDataText; 
            const jsonDataItems = jsonData.map(item => `<p>${item}</p>`);
            jsonDataElement.innerHTML = jsonDataItems.join('');
        } else {
            console.error('error', xhr.status);
        }
        }
    };
    xhr.send();
});


	</script>
</body>
</html>